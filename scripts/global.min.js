$(function(){$("#login-form").submit(function(){return""==$("#username").val().trim()?(alert("Please enter a value"),$("#username").val(""),$("#username").focus(),!1):void 0}),$(".thumbs-box .thumb").click(function(){var s,t=0;$(this).hasClass("thumb-bad")?($(this).addClass("bg-danger"),$(this).siblings(".thumb-good").hide(),t="0"):$(this).hasClass("thumb-good")&&($(this).addClass("bg-success"),$(this).siblings(".thumb-bad").hide(),t="1"),s=$(this).attr("data-restid"),userid=$(this).attr("data-userid");var a=$(this).parent().siblings(".rest-rating");$.ajax({url:"/psw-demo/ajax/restaurant-vote",data:{"restaurant-id":s,"user-id":userid,vote:t},success:function(s,t,e){if(s.total>0){var r=100*(s.up/s.total).toFixed(2);a.html(s.total+" ratings, "+r+"% positive")}}})}),$("#restaurantSuggestForm").submit(function(){return""==$("#restaurantSuggestName").val().trim()?(alert("Please enter a name"),$("#restaurantSuggestName").val(""),$("#restaurantSuggestName").focus(),$("#restaurantSuggestName").closest(".form-group").addClass("has-error"),!1):($("#restaurantSuggestName").closest(".form-group").removeClass("has-error"),""==$("#restaurantSuggestAddr").val().trim()?(alert("Please enter an address"),$("#restaurantSuggestAddr").val(""),$("#restaurantSuggestAddr").focus(),$("#restaurantSuggestAddr").closest(".form-group").addClass("has-error"),!1):($("#restaurantSuggestAddr").closest(".form-group").removeClass("has-error"),!0))}),$("#add-a-comment-form").submit(function(){var s=$("#new-comment-text").val().trim();return restid=$(this).attr("data-restid"),userid=$(this).attr("data-userid"),""!=s?($.ajax({url:"/psw-demo/ajax/restaurant-comment",data:{"restaurant-id":restid,"user-id":userid,comment:s},method:"POST",success:function(s,t,a){$("#current-comments").prepend('<div class="comment"><span class="comment-date">'+s.date+'</span><span class="comment-user">'+s.user+' said:</span><p class="comment-text"> '+s.comment+"</p></div>")}}),!1):void 0}),$("#togglecomments").click(function(){var s=$(this).children(".glyphicon");s.hasClass("glyphicon-minus")?(s.removeClass("glyphicon-minus"),s.addClass("glyphicon-plus")):s.hasClass("glyphicon-plus")&&(s.removeClass("glyphicon-plus"),s.addClass("glyphicon-minus")),$("#current-comments").slideToggle()})});